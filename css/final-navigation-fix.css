/**
 * Final Navigation Fix
 * Ensures dropdowns are fully clickable and text colors are correct
 */

/* ========================================
   DROPDOWN FIXES - MAKE EVERYTHING CLICKABLE
   ======================================== */

/* Ensure dropdowns are properly positioned and clickable */
.nav-menu .dropdown {
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  min-width: 300px !important;
  background: white !important;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15) !important;
  border-radius: 8px !important;
  padding: 8px !important;
  border: 1px solid #e5e7eb !important;
  margin-top: 5px !important;
  z-index: 999999 !important;
  
  /* Hidden by default */
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
  transform: translateY(-10px) !important;
  transition: all 0.3s ease !important;
}

/* Show dropdown on hover */
.nav-menu .has-dropdown:hover > .dropdown,
.nav-menu li.has-dropdown:hover > ul.dropdown {
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
  transform: translateY(0) !important;
}

/* Make all dropdown links clickable */
.dropdown a,
.dropdown li a,
.nav-menu .dropdown a,
.nav-menu .dropdown li a {
  display: block !important;
  padding: 12px 20px !important;
  color: #374151 !important;
  text-decoration: none !important;
  border-radius: 6px !important;
  transition: all 0.2s ease !important;
  cursor: pointer !important;
  pointer-events: auto !important;
  position: relative !important;
  z-index: 999999 !important;
  background: transparent !important;
}

/* Hover state for dropdown links */
.dropdown a:hover,
.dropdown li a:hover,
.nav-menu .dropdown a:hover {
  background: #f3f4f6 !important;
  color: #1e3a8a !important;
  transform: translateX(4px) !important;
}

/* Remove any list styling from dropdown */
.dropdown ul,
.nav-menu .dropdown ul {
  list-style: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

.dropdown li,
.nav-menu .dropdown li {
  list-style: none !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* ========================================
   TEXT COLOR FIXES - WHITE ON BLUE
   ======================================== */

/* Hero sections - white text on blue background */
.hero,
.page-header,
.about-hero,
.case-studies-header,
.practice-hero,
.service-hero {
  background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 100%) !important;
  color: white !important;
}

.hero *,
.page-header *,
.about-hero *,
.case-studies-header *,
.practice-hero *,
.service-hero * {
  color: white !important;
}

/* Specific text elements in hero */
.hero h1,
.hero h2,
.hero p,
.hero span,
.hero-subtitle,
.hero-content *,
.page-header h1,
.page-header p,
.page-header .lead,
.practice-hero h1,
.practice-hero p,
.service-hero h1,
.service-hero p {
  color: white !important;
}

/* Meta information in hero sections */
.hero .meta,
.practice-hero .meta,
.service-hero .meta,
.hero .meta span,
.practice-hero .meta span,
.service-hero .meta span {
  color: rgba(255, 255, 255, 0.9) !important;
}

/* CTA sections - white text on blue */
.services-cta,
.practice-cta,
.case-studies-cta,
.about-cta,
.service-cta,
.cta-section {
  background: linear-gradient(135deg, #1e3a8a, #3730a3) !important;
  color: white !important;
}

.services-cta *,
.practice-cta *,
.case-studies-cta *,
.about-cta *,
.service-cta *,
.cta-section * {
  color: white !important;
}

/* CTA section headings and text */
.services-cta h2,
.practice-cta h2,
.service-cta h2,
.cta-section h2,
.services-cta p,
.practice-cta p,
.service-cta p,
.cta-section p {
  color: white !important;
}

/* Keep buttons their intended styles */
.btn-primary {
  background: white !important;
  color: #1e3a8a !important;
}

.btn-secondary {
  background: transparent !important;
  color: white !important;
  border: 2px solid white !important;
}

/* In blue sections, primary button should stand out */
.hero .btn-primary,
.services-cta .btn-primary,
.practice-cta .btn-primary,
.service-cta .btn-primary {
  background: white !important;
  color: #1e3a8a !important;
}

.hero .btn-primary:hover,
.services-cta .btn-primary:hover,
.practice-cta .btn-primary:hover,
.service-cta .btn-primary:hover {
  background: #f3f4f6 !important;
  color: #1e40af !important;
}

/* ========================================
   CONTACT BUTTON FIX
   ======================================== */

.nav-cta,
.nav-menu .nav-cta,
a.nav-cta {
  background: #1e3a8a !important;
  color: white !important;
  padding: 10px 24px !important;
  border-radius: 6px !important;
  font-weight: 600 !important;
  transition: all 0.3s ease !important;
  display: inline-block !important;
  text-decoration: none !important;
}

.nav-cta:hover,
.nav-menu .nav-cta:hover,
a.nav-cta:hover {
  background: #1e40af !important;
  color: white !important;
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 12px rgba(30, 58, 138, 0.3) !important;
}

/* ========================================
   NAVIGATION POSITIONING FIX
   ======================================== */

.main-nav {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  background: white !important;
  z-index: 99999 !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

body {
  padding-top: 70px !important;
}

/* ========================================
   SERVICE BADGES IN DROPDOWN
   ======================================== */

.dropdown .service-badge {
  background: #10b981 !important;
  color: white !important;
  padding: 2px 8px !important;
  border-radius: 12px !important;
  font-size: 0.7rem !important;
  font-weight: 600 !important;
  margin-left: 8px !important;
  display: inline-block !important;
}

.dropdown .service-badge.new {
  background: #f59e0b !important;
}

/* ========================================
   ENSURE EVERYTHING IS CLICKABLE
   ======================================== */

/* Remove any blocking elements */
.main-nav *,
.nav-menu *,
.dropdown * {
  pointer-events: auto !important;
}

/* Make sure parent menu items don't block dropdowns */
.nav-menu .has-dropdown {
  position: relative !important;
}

.nav-menu .has-dropdown > a {
  position: relative !important;
  z-index: 1 !important;
}

/* Dropdown should be above everything */
.dropdown {
  z-index: 999999 !important;
}

/* Fix any overlapping issues */
.nav-menu {
  z-index: 9999 !important;
}

/* Add visual indicator for dropdown items */
.nav-menu .has-dropdown > a::after {
  content: 'â–¼' !important;
  display: inline-block !important;
  margin-left: 5px !important;
  font-size: 10px !important;
  opacity: 0.5 !important;
  transition: opacity 0.2s ease !important;
}

.nav-menu .has-dropdown:hover > a::after {
  opacity: 1 !important;
}

/* ========================================
   MOBILE DROPDOWN FIXES
   ======================================== */

@media (max-width: 768px) {
  .nav-menu .dropdown {
    position: static !important;
    width: 100% !important;
    opacity: 1 !important;
    visibility: visible !important;
    transform: none !important;
    display: none !important;
    background: #f8f9fa !important;
    margin: 10px 0 !important;
    padding: 0 !important;
    border-left: 3px solid #1e3a8a !important;
  }
  
  .nav-menu .has-dropdown.active .dropdown {
    display: block !important;
    pointer-events: auto !important;
  }
  
  .nav-menu .dropdown a {
    padding: 12px 20px !important;
    border-bottom: 1px solid #e5e7eb !important;
  }
  
  .nav-menu .dropdown a:last-child {
    border-bottom: none !important;
  }
}