<!-- FAQ Schema Markup -->
{% if page.faq_category %}
    {% assign faqs = site.data.faqs[page.faq_category] %}
    {% if faqs %}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
        {% for faq in faqs %}
        {
            "@type": "Question",
            "name": "{{ faq.question | escape }}",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "{{ faq.answer | escape }}"
            }
        }{% unless forloop.last %},{% endunless %}
        {% endfor %}
    ]
}
</script>
    {% endif %}
{% elsif page.custom_faqs %}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
        {% for faq in page.custom_faqs %}
        {
            "@type": "Question",
            "name": "{{ faq.question | escape }}",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "{{ faq.answer | escape }}"
            }
        }{% unless forloop.last %},{% endunless %}
        {% endfor %}
    ]
}
</script>
{% endif %}