/* Mobile Theme Fixes for Minimal Mistakes Theme */
/* This file fixes mobile layout issues with the new theme */

/* ========================================
   CRITICAL MOBILE FIXES
======================================== */

/* Fix top spacing for all pages on mobile */
@media (max-width: 768px) {
    /* Remove any negative margins and add proper spacing */
    body {
        padding-top: 70px !important; /* Account for fixed navigation */
        margin: 0;
        overflow-x: hidden;
    }
    
    /* Fix main navigation */
    .main-nav {
        position: fixed !important;
        top: 0;
        left: 0;
        right: 0;
        z-index: 9999;
        height: 60px;
        background: white;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    /* Fix hero section spacing */
    .hero,
    section.hero {
        margin-top: 0 !important;
        padding-top: 2rem !important;
        padding-bottom: 2rem !important;
    }
    
    /* Fix first section after navigation */
    main > section:first-child,
    main > .hero:first-child {
        margin-top: 0 !important;
    }
    
    /* Hide ALL table of contents on mobile */
    .table-of-contents,
    .mobile-toc,
    .toc-mobile,
    .toc,
    .sidebar__right,
    .toc__menu,
    [class*="toc"],
    [class*="table-of-contents"] {
        display: none !important;
        visibility: hidden !important;
        position: absolute !important;
        left: -9999px !important;
    }
    
    /* Fix hamburger menu button */
    .mobile-menu-toggle {
        display: flex !important;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: 30px;
        height: 30px;
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 0;
        position: relative;
        z-index: 10000;
    }
    
    .mobile-menu-toggle span {
        display: block;
        width: 22px;
        height: 2px;
        background: #333;
        margin: 3px 0;
        transition: all 0.3s ease;
        transform-origin: center;
    }
    
    /* Hamburger animation */
    .mobile-menu-toggle.active span:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px);
    }
    
    .mobile-menu-toggle.active span:nth-child(2) {
        opacity: 0;
        transform: scale(0);
    }
    
    .mobile-menu-toggle.active span:nth-child(3) {
        transform: rotate(-45deg) translate(5px, -5px);
    }
    
    /* Mobile menu overlay */
    .mobile-nav-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.5);
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
        z-index: 9997;
    }
    
    .mobile-nav-overlay.active {
        opacity: 1;
        visibility: visible;
    }
    
    /* Mobile menu panel */
    .nav-menu {
        position: fixed !important;
        left: -100%;
        top: 60px;
        width: 80%;
        max-width: 300px;
        height: calc(100vh - 60px);
        background: white;
        transition: left 0.3s ease;
        overflow-y: auto;
        z-index: 9998;
        box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        padding: 0;
    }
    
    .nav-menu.active {
        left: 0;
    }
    
    /* Mobile menu items */
    .nav-menu li {
        display: block;
        width: 100%;
        border-bottom: 1px solid #eee;
    }
    
    .nav-menu a {
        display: block;
        padding: 15px 20px;
        color: #333;
        text-decoration: none;
        font-size: 16px;
    }
    
    .nav-menu a:hover,
    .nav-menu a:active {
        background: #f5f5f5;
        color: var(--primary-color);
    }
    
    /* Dropdown handling on mobile */
    .has-dropdown .dropdown {
        position: static;
        width: 100%;
        background: #f9f9f9;
        box-shadow: none;
        display: none;
        animation: none;
    }
    
    .has-dropdown.active .dropdown {
        display: block;
    }
    
    .has-dropdown .dropdown a {
        padding-left: 40px;
        font-size: 15px;
    }
    
    /* Prevent body scroll when menu is open */
    body.menu-open {
        overflow: hidden;
        position: fixed;
        width: 100%;
        height: 100%;
    }
    
    /* Fix breadcrumb spacing */
    .breadcrumb {
        margin-top: 0 !important;
        padding-top: 0.75rem !important;
        padding-bottom: 0.75rem !important;
    }
    
    /* Page headers and sections */
    .page-header,
    .practice-hero,
    .service-hero {
        margin-top: 0 !important;
        padding-top: 2rem !important;
    }
    
    /* Content sections */
    section {
        padding: 2rem 0 !important;
    }
    
    /* Fix any content that might be cut off */
    .container {
        padding-left: 1rem;
        padding-right: 1rem;
    }
    
    /* Ensure hero content is visible */
    .hero-content {
        padding-top: 1rem;
    }
    
    .hero h1 {
        margin-top: 0;
        font-size: 1.75rem;
        line-height: 1.2;
    }
    
    .hero-subtitle {
        font-size: 1rem;
        margin-bottom: 1.5rem;
    }
    
    /* Fix CTA buttons */
    .hero-cta {
        flex-direction: column;
        gap: 1rem;
        align-items: stretch;
    }
    
    .hero-cta .btn {
        width: 100%;
        text-align: center;
        padding: 12px 20px;
    }
}

/* Small mobile devices */
@media (max-width: 480px) {
    body {
        padding-top: 60px !important;
    }
    
    .hero h1 {
        font-size: 1.5rem;
    }
    
    .hero-subtitle {
        font-size: 0.9rem;
    }
    
    .nav-menu {
        width: 85%;
    }
}

/* Landscape mobile */
@media (max-width: 768px) and (orientation: landscape) {
    .main-nav {
        height: 50px;
    }
    
    body {
        padding-top: 50px !important;
    }
    
    .nav-menu {
        top: 50px;
        height: calc(100vh - 50px);
    }
    
    .hero {
        padding-top: 1.5rem !important;
        padding-bottom: 1.5rem !important;
    }
}

/* Force hiding of any Minimal Mistakes theme TOC elements */
@media (max-width: 768px) {
    .sidebar,
    .sidebar__right,
    .toc,
    .toc__menu,
    .toc__title,
    aside.sidebar__right,
    nav.toc,
    [class*="toc__"] {
        display: none !important;
        visibility: hidden !important;
        width: 0 !important;
        height: 0 !important;
        overflow: hidden !important;
    }
    
    /* Ensure main content takes full width */
    main,
    .page__inner-wrap,
    .page__content,
    article {
        width: 100% !important;
        max-width: 100% !important;
        margin: 0 !important;
        float: none !important;
    }
}

/* ========================================
   HERO SECTION CENTERING FIXES
======================================== */

/* Fix hero centering on all devices */
.hero {
    text-align: center !important;
}

.hero .container {
    display: flex;
    justify-content: center;
    align-items: center;
}

.hero-content {
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
    text-align: center !important;
}

.hero h1,
.hero-subtitle {
    text-align: center !important;
    margin-left: auto;
    margin-right: auto;
}

.hero-cta {
    justify-content: center !important;
    align-items: center !important;
    margin-left: auto;
    margin-right: auto;
}

/* Desktop hero fixes */
@media (min-width: 769px) {
    .hero {
        padding: 5rem 0;
    }
    
    .hero-cta {
        display: flex;
        flex-direction: row;
        gap: 1rem;
    }
}

/* Mobile hero fixes */
@media (max-width: 768px) {
    .hero-content {
        padding: 0 1rem;
    }
    
    .hero-cta {
        display: flex;
        flex-direction: column;
        width: 100%;
        max-width: 300px;
        margin: 0 auto;
    }
    
    .hero-cta .btn {
        width: 100%;
    }
}

/* ========================================
   PRACTICE AREAS STRIP FIXES
======================================== */

/* Fix practice areas display on mobile */
@media (max-width: 768px) {
    .practice-areas-strip {
        background: #f9fafb;
        padding: 1.5rem 0;
        overflow: hidden;
    }
    
    .practice-areas-chips {
        display: flex !important;
        flex-wrap: wrap !important;
        justify-content: center !important;
        gap: 0.5rem !important;
        padding: 0 1rem !important;
        overflow-x: visible !important;
        -webkit-overflow-scrolling: auto !important;
    }
    
    .practice-chip {
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 0.3rem !important;
        padding: 0.5rem 1rem !important;
        background: white !important;
        border: 1px solid #e5e7eb !important;
        border-radius: 25px !important;
        font-size: 0.875rem !important;
        font-weight: 500 !important;
        color: #1f2937 !important;
        text-decoration: none !important;
        white-space: nowrap !important;
        min-width: auto !important;
        flex-shrink: 0 !important;
        transition: all 0.2s ease !important;
        position: relative !important;
        overflow: hidden !important;
    }
    
    .practice-chip:active,
    .practice-chip:hover {
        background: #1e3a8a !important;
        color: white !important;
        border-color: #1e3a8a !important;
        transform: scale(0.98) !important;
    }
    
    .practice-chip .icon {
        font-size: 1rem !important;
        line-height: 1 !important;
    }
    
    /* For very small screens, make chips full width */
    @media (max-width: 480px) {
        .practice-areas-chips {
            flex-direction: column !important;
            align-items: stretch !important;
        }
        
        .practice-chip {
            width: 100% !important;
            justify-content: center !important;
            padding: 0.75rem 1rem !important;
        }
    }
}

/* Desktop practice areas fixes */
@media (min-width: 769px) {
    .practice-areas-strip {
        background: #f9fafb;
        padding: 2rem 0;
    }
    
    .practice-areas-chips {
        display: flex !important;
        flex-wrap: wrap !important;
        justify-content: center !important;
        gap: 1rem !important;
    }
    
    .practice-chip {
        transition: all 0.3s ease !important;
    }
    
    .practice-chip:hover {
        transform: translateY(-2px) !important;
        box-shadow: 0 4px 12px rgba(30, 58, 138, 0.2) !important;
    }
}