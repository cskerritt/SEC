<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>City Pages Preview System</title>
  <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f5f5f5;
            color: #333;
        }

        .preview-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .preview-header {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .preview-header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            color: #1a3c6e;
        }

        .preview-controls {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-group label {
            font-weight: 500;
            color: #666;
        }

        select {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            background: white;
            cursor: pointer;
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        .nav-btn {
            padding: 8px 16px;
            background: #1a3c6e;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.2s;
        }

        .nav-btn:hover {
            background: #2a4c7e;
        }

        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .preview-info {
            background: #e8f4f8;
            padding: 10px 15px;
            border-radius: 4px;
            font-size: 14px;
            color: #1a3c6e;
        }

        .iframe-container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
        }

        .iframe-header {
            background: #f8f9fa;
            padding: 15px 20px;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .current-page-info {
            font-size: 16px;
            font-weight: 500;
            color: #333;
        }

        .page-counter {
            font-size: 14px;
            color: #666;
        }

        iframe {
            width: 100%;
            height: 800px;
            border: none;
            display: block;
        }

        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 18px;
            color: #666;
        }

        .keyboard-hint {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 4px;
            font-size: 14px;
            color: #666;
            text-align: center;
        }

        .keyboard-hint kbd {
            display: inline-block;
            padding: 3px 6px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 3px;
            font-family: monospace;
            font-size: 13px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        @media (max-width: 768px) {
            .preview-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .control-group {
                flex-direction: column;
                align-items: stretch;
            }

            iframe {
                height: 600px;
            }
        }
  </style>
<link href="../../css/ultimate-consistency-fix.css" rel="stylesheet"/>
<script src="../../js/force-navigation-fixed.js" defer></script>

<!-- Bootstrap 5 UI Library -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link rel="stylesheet" href="../../css/ui-library-bootstrap.css">
<link rel="stylesheet" href="../../css/text-contrast-fix-v2.css">
<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>
</head>
<body>
  <div class="preview-container">
  <div class="preview-header">
  <h1>City Landing Pages Preview System</h1>
  <div class="preview-controls">
  <div class="control-group">
  <label for="pageType">Page Type:</label>
  <select id="pageType">
  <option value="hub">City Hub Pages</option>
  <option value="forensic-economist">Forensic Economist</option>
  <option value="business-valuation">Business Valuation</option>
  <option value="vocational-expert">Vocational Expert</option>
  <option value="life-care-planner">Life Care Planner</option>
  </select>
  </div>

  <div class="control-group">
  <label for="citySelect">City:</label>
  <select id="citySelect">
  <option value="new-york-ny">New York, NY</option>
  <option value="los-angeles-ca">Los Angeles, CA</option>
  <option value="chicago-il">Chicago, IL</option>
  <option value="houston-tx">Houston, TX</option>
  <option value="phoenix-az">Phoenix, AZ</option>
  <option value="philadelphia-pa">Philadelphia, PA</option>
  <option value="san-antonio-tx">San Antonio, TX</option>
  <option value="san-diego-ca">San Diego, CA</option>
  <option value="dallas-tx">Dallas, TX</option>
  <option value="san-jose-ca">San Jose, CA</option>
  <option value="austin-tx">Austin, TX</option>
  <option value="jacksonville-fl">Jacksonville, FL</option>
  <option value="san-francisco-ca">San Francisco, CA</option>
  <option value="columbus-oh">Columbus, OH</option>
  <option value="fort-worth-tx">Fort Worth, TX</option>
  <option value="indianapolis-in">Indianapolis, IN</option>
  <option value="charlotte-nc">Charlotte, NC</option>
  <option value="seattle-wa">Seattle, WA</option>
  <option value="denver-co">Denver, CO</option>
  <option value="washington-dc">Washington, DC</option>
  <option value="boston-ma">Boston, MA</option>
  <option value="el-paso-tx">El Paso, TX</option>
  <option value="nashville-tn">Nashville, TN</option>
  <option value="detroit-mi">Detroit, MI</option>
  <option value="oklahoma-city-ok">Oklahoma City, OK</option>
  <option value="portland-or">Portland, OR</option>
  <option value="las-vegas-nv">Las Vegas, NV</option>
  <option value="memphis-tn">Memphis, TN</option>
  <option value="louisville-ky">Louisville, KY</option>
  <option value="baltimore-md">Baltimore, MD</option>
  <option value="milwaukee-wi">Milwaukee, WI</option>
  <option value="albuquerque-nm">Albuquerque, NM</option>
  <option value="tucson-az">Tucson, AZ</option>
  <option value="fresno-ca">Fresno, CA</option>
  <option value="sacramento-ca">Sacramento, CA</option>
  <option value="mesa-az">Mesa, AZ</option>
  <option value="kansas-city-mo">Kansas City, MO</option>
  <option value="atlanta-ga">Atlanta, GA</option>
  <option value="omaha-ne">Omaha, NE</option>
  <option value="colorado-springs-co">Colorado Springs, CO</option>
  <option value="raleigh-nc">Raleigh, NC</option>
  <option value="long-beach-ca">Long Beach, CA</option>
  <option value="virginia-beach-va">Virginia Beach, VA</option>
  <option value="miami-fl">Miami, FL</option>
  <option value="oakland-ca">Oakland, CA</option>
  <option value="minneapolis-mn">Minneapolis, MN</option>
  <option value="tulsa-ok">Tulsa, OK</option>
  <option value="bakersfield-ca">Bakersfield, CA</option>
  <option value="wichita-ks">Wichita, KS</option>
  <option value="arlington-tx">Arlington, TX</option>
  </select>
  </div>

  <div class="nav-buttons">
  <button class="nav-btn" id="prevBtn" onclick="navigate(-1)">‚Üê Previous</button>
  <button class="nav-btn" id="nextBtn" onclick="navigate(1)">Next ‚Üí</button>
  </div>

  <div class="preview-info">
  <span class="page-counter">Page <span id="currentIndex">1</span> of <span id="totalPages">50</span></span>
  </div>
  </div>
  </div>

  <div class="iframe-container">
  <div class="iframe-header">
  <div class="current-page-info" id="currentPageInfo">Loading...</div>
  <button class="nav-btn" onclick="openInNewTab()">Open in New Tab ‚Üó</button>
  </div>
  <div id="loadingMessage" class="loading">Loading preview...</div>
  <iframe id="previewFrame" style="display: none;" sandbox="allow-same-origin allow-scripts"></iframe>
  </div>

  <div class="keyboard-hint">
            üí° Tip: Use <kbd>‚Üê</kbd> and <kbd>‚Üí</kbd> arrow keys to navigate between cities, or <kbd>1</kbd>-<kbd>5</kbd> to switch page types
  </div>
  </div>

  <script>
        const pageTypeSelect = document.getElementById('pageType');
        const citySelect = document.getElementById('citySelect');
        const previewFrame = document.getElementById('previewFrame');
        const loadingMessage = document.getElementById('loadingMessage');
        const currentPageInfo = document.getElementById('currentPageInfo');
        const currentIndexSpan = document.getElementById('currentIndex');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        const pageTypeSuffixes = {
            'hub': '',
            'forensic-economist': '-forensic-economist',
            'business-valuation': '-business-valuation-analyst',
            'vocational-expert': '-vocational-expert',
            'life-care-planner': '-life-care-planner'
        };

        const pageTypeNames = {
            'hub': 'City Hub Page',
            'forensic-economist': 'Forensic Economist',
            'business-valuation': 'Business Valuation Analyst',
            'vocational-expert': 'Vocational Expert',
            'life-care-planner': 'Life Care Planner'
        };

        function updatePreview() {
            const pageType = pageTypeSelect.value;
            const city = citySelect.value;
            const suffix = pageTypeSuffixes[pageType];
            const filename = `${city}${suffix}.html`;

            // Update UI
            loadingMessage.style.display = 'block';
            previewFrame.style.display = 'none';

            const cityName = citySelect.options[citySelect.selectedIndex].text;
            const pageTypeName = pageTypeNames[pageType];
            currentPageInfo.textContent = `${cityName} - ${pageTypeName}`;

            // Update page counter
            currentIndexSpan.textContent = citySelect.selectedIndex + 1;

            // Update navigation buttons
            prevBtn.disabled = citySelect.selectedIndex === 0;
            nextBtn.disabled = citySelect.selectedIndex === citySelect.options.length - 1;

            // Load the page
            previewFrame.src = filename;
            previewFrame.onload = function() {
                loadingMessage.style.display = 'none';
                previewFrame.style.display = 'block';
            };

            previewFrame.onerror = function() {
                loadingMessage.textContent = 'Page not found: ' + filename;
            };
        }

        function navigate(direction) {
            const newIndex = citySelect.selectedIndex + direction;
            if (newIndex >= 0 && newIndex < citySelect.options.length) {
                citySelect.selectedIndex = newIndex;
                updatePreview();
            }
        }

        function openInNewTab() {
            const pageType = pageTypeSelect.value;
            const city = citySelect.value;
            const suffix = pageTypeSuffixes[pageType];
            const filename = `${city}${suffix}.html`;
            window.open(filename, '_blank');
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                navigate(-1);
            } else if (e.key === 'ArrowRight') {
                navigate(1);
            } else if (e.key >= '1' && e.key <= '5') {
                const index = parseInt(e.key) - 1;
                if (index < pageTypeSelect.options.length) {
                    pageTypeSelect.selectedIndex = index;
                    updatePreview();
                }
            }
        });

        // Event listeners
        pageTypeSelect.addEventListener('change', updatePreview);
        citySelect.addEventListener('change', updatePreview);

        // Initial load
        updatePreview();
  </script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
